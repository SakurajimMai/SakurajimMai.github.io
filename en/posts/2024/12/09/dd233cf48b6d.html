<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Methods and Fake Wall Attacks Under SNI Review | SakurajimMai's Blog</title><meta name="author" content="SakurajimMai"><meta name="copyright" content="SakurajimMai"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Introduction to Some Professional Terms HTTP（Hyper Text Transfer Protocol） Hypertext Transfer Protocol, used for transmitting various web pages in daily browsing, but its transmission process is not">
<meta property="og:type" content="article">
<meta property="og:title" content="Methods and Fake Wall Attacks Under SNI Review">
<meta property="og:url" content="https://blog.ixacg.com/en/posts/2024/12/09/dd233cf48b6d.html">
<meta property="og:site_name" content="SakurajimMai&#39;s Blog">
<meta property="og:description" content="Introduction to Some Professional Terms HTTP（Hyper Text Transfer Protocol） Hypertext Transfer Protocol, used for transmitting various web pages in daily browsing, but its transmission process is not">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://s2.ixacg.com/2025/04/10/1744271881.avif">
<meta property="article:published_time" content="2024-12-08T16:00:00.000Z">
<meta property="article:modified_time" content="2025-04-21T03:10:29.000Z">
<meta property="article:author" content="SakurajimMai">
<meta property="article:tag" content="GFW">
<meta property="article:tag" content="Firewall">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.ixacg.com/2025/04/10/1744271881.avif"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Methods and Fake Wall Attacks Under SNI Review",
  "url": "https://blog.ixacg.com/en/posts/2024/12/09/dd233cf48b6d.html",
  "image": "https://s2.ixacg.com/2025/04/10/1744271881.avif",
  "datePublished": "2024-12-08T16:00:00.000Z",
  "dateModified": "2025-04-21T03:10:29.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "SakurajimMai",
      "url": "https://blog.ixacg.com/en/"
    }
  ]
}</script><link rel="shortcut icon" href="https://image.denlu.top/2024/12/04/UF2zDrvz.png"><link rel="canonical" href="https://blog.ixacg.com/en/posts/2024/12/09/dd233cf48b6d.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//static.cloudflareinsights.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/en/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
  google_ad_client: 'ca-pub-3735068185062619',
  enable_page_level_ads: 'true'
});</script><script defer="defer" data-pjax="data-pjax" src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon="{&quot;token&quot;: &quot;b92da9866d4f4f02b545cc05bfa81e4c&quot;}"></script><script>const GLOBAL_CONFIG = {
  root: '/en/',
  algolia: undefined,
  localSearch: {"path":"/en/search.json","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"No results found for: ${query}","hits_stats":"${hits} articles found"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":200,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":50,"languages":{"author":"Author: SakurajimMai","link":"Link: ","source":"Source: SakurajimMai's Blog","info":"Copyright belongs to the author. For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"You have switched to Traditional Chinese","cht_to_chs":"You have switched to Simplified Chinese","day_to_night":"You have switched to Dark Mode","night_to_day":"You have switched to Light Mode","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: true,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Methods and Fake Wall Attacks Under SNI Review',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><!-- hexo injector head_end start --><script> let HEXO_MMEDIA_DATA = { js: [], css: [], aplayerData: [], metingData: [], artPlayerData: [], dplayerData: []}; </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.0.0"><link rel="alternate" href="/en/atom.xml" title="SakurajimMai's Blog" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://image.denlu.top/2024/12/04/ajJ3XICB.webp" onerror="this.onerror=null;this.src='/en/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/en/archives/"><div class="headline">Articles</div><div class="length-num">10</div></a><a href="/en/tags/"><div class="headline">Tags</div><div class="length-num">15</div></a><a href="/en/categories/"><div class="headline">Categories</div><div class="length-num">3</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/en/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/en/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/en/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/en/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/en/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-language"></i><span> Language</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/en/"><i class="fa-fw fas fa-e"></i><span> English</span></a></li><li><a class="site-page child" href="https://blog.ixacg.com/"><i class="fa-fw fas fa-c"></i><span> Chinese</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://s2.ixacg.com/2025/04/10/1744271881.avif);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/en/"><span class="site-name">SakurajimMai's Blog</span></a><a class="nav-page-title" href="/en/"><span class="site-name">Methods and Fake Wall Attacks Under SNI Review</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/en/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/en/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/en/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/en/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/en/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-language"></i><span> Language</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/en/"><i class="fa-fw fas fa-e"></i><span> English</span></a></li><li><a class="site-page child" href="https://blog.ixacg.com/"><i class="fa-fw fas fa-c"></i><span> Chinese</span></a></li></ul></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Methods and Fake Wall Attacks Under SNI Review</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2024-12-08T16:00:00.000Z" title="Created 2024-12-09 00:00:00">2024-12-09</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-04-21T03:10:29.000Z" title="Updated 2025-04-21 11:10:29">2025-04-21</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/en/categories/Learning/">Learning</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word Count:</span><span class="word-count">1.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading Time:</span><span>10mins</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><div id="post-outdate-notice" data="{&quot;limitDay&quot;:500,&quot;messagePrev&quot;:&quot;It has been&quot;,&quot;messageNext&quot;:&quot;days since the last update, the content of the article may be outdated.&quot;,&quot;postUpdate&quot;:&quot;2025-04-21 11:10:29&quot;}" hidden></div><blockquote>
<h2 id="Introduction-to-Some-Professional-Terms"><a href="#Introduction-to-Some-Professional-Terms" class="headerlink" title="Introduction to Some Professional Terms"></a>Introduction to Some Professional Terms</h2></blockquote>
<p><strong>HTTP（Hyper Text Transfer Protocol）</strong></p>
<p>Hypertext Transfer Protocol, used for transmitting various web pages in daily browsing, but its transmission process is not encrypted and thus insecure.<br>What is currently referred to as supporting HTTP generally means that both HTTP and HTTPS functions can be implemented, rather than just HTTP alone.</p>
<p><strong>TLS（Transport Layer Security）</strong></p>
<p>Transport Layer Security, the successor to SSL, enables messages to be encrypted before being handed over to TCP for transmission. In other words, HTTP + TLS &#x3D; HTTPS.</p>
<p><strong>SNI（Server Name Indication）</strong></p>
<p>Server Name Indication. SNI is an extension designed to address the issue of a single server using multiple domain names and certificates in SSL&#x2F;TLS. It allows a server to support multiple certificates on the same IP address and TCP port, enabling multiple HTTPS or other TLS-based services to be requested on the same IP address.</p>
<p>In simple terms, it is a method for deploying different certificates on the same port of a server. The server processes the corresponding request based on the SNI domain name received in the request. If the SNI domain name is empty, it handles the request using a pre-set default domain name.</p>
<p><strong>CDN（Content Delivery Network）</strong></p>
<p>Content Delivery Network, a high-speed network topology formed by servers deployed in various regions, allowing users in each region to achieve fast access. CDN responds to different websites via SNI and also protects the security of root servers.</p>
<p><strong>Nginx</strong></p>
<p>A mainstream high-performance open-source HTTP reverse proxy tool, mainly used for reverse proxy, load balancing, and separation of dynamic and static resources.</p>
<p><strong>Reverse Proxy</strong></p>
<p>Deploying an outer server as a gateway in front of the root server, so that users can only access the outer server, thereby protecting the internal network server from exposure. As a gateway, it can also analyze and modify messages.</p>
<p>Proxy servers and root servers deployed on the same host are called local reverse proxies.</p>
<blockquote>
<h2 id="Current-Mainstream-Blocking-Technologies"><a href="#Current-Mainstream-Blocking-Technologies" class="headerlink" title="Current Mainstream Blocking Technologies"></a>Current Mainstream Blocking Technologies</h2></blockquote>
<p>Here is a brief overview of the technologies; for more details, please search on your own <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Great_Firewall">Baidu it</a>.</p>
<p>In current life, GFW blocks prohibited websites mainly through two methods: 1. DNS pollution, 2. TCP reset attacks.</p>
<p><strong>DNS Pollution</strong></p>
<p>This primarily involves checking keywords in HTTP messages to intercept content from the corresponding websites, resulting in a <code>ERR_CONNECTION_TIMED_OUT</code> error in the browser, as DNS is directed to an inaccessible address, causing the access to time out. DNS queries can reach the DNS server, but if they match prohibited keywords, <strong>the firewall will inject a false DNS response before the legitimate DNS response. The solution to this issue is to perform local resolution by modifying the local Hosts file to connect directly via IP.</strong></p>
<p>However, in current life, the use of DNS pollution for blocking large websites has become rare, mainly because HTTPS encrypts the browsing content, making keyword detection in messages ineffective.</p>
<p><strong>SNI Review Method</strong></p>
<p>Under normal circumstances, the TLS handshake requires the following stages:</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.ixacg.com/2025/04/10/1744271903.avif" alt="Figure 1"></p>
<p>At the initial Client Hello stage, both parties have not yet agreed on the encryption method, so the message is in plaintext, and the Extension field contains the SNI information, which is the domain name currently being requested, and this information can be obtained through packet capture.</p>
<p>In normal situations, the server responds with the corresponding domain certificate based on the domain name in SNI and proceeds with the subsequent handshake steps. After negotiation, encrypted communication begins.</p>
<p>However, during this process, GFW can intercept the domain name in SNI to determine the legitimacy of the website the client is requesting and perform detection and blocking. The blocking method is <a target="_blank" rel="noopener" href="https://www.cnblogs.com/ryanyangcs/p/13152036.html">TCP reset attacks</a>. This technique is known as SNI blocking based on deep packet inspection.</p>
<p>TCP reset attacks are executed using a single packet. The attacker creates and sends a forged TCP reset packet to interfere with the connection between the user and the website, deceiving both parties into terminating the TCP connection.<br>Currently, GFW sends RST messages preemptively to interrupt such connections. This technology is also known as TCP keyword blocking.</p>
<blockquote>
<h2 id="A-Feasible-Solution"><a href="#A-Feasible-Solution" class="headerlink" title="A Feasible Solution"></a>A Feasible Solution</h2></blockquote>
<p>SNI is a method for deploying different certificates on the same port of a server. The well-known Cloudflare provides certificates based on SNI after enabling CDN. An important process in implementing SNI is sending the domain name to be connected when establishing a connection between the client and server, so that the server can return a certificate issued for the specified domain name.</p>
<p>In this process, if the user requests a non-existent domain name, the server will send a default certificate to the client to allow the connection to continue.</p>
<p>The method of bypassing blocking by obfuscating the Server Name is called <strong>Domain Fronting</strong>. In simple terms, it involves not carrying SNI or carrying an invalid SNI in the Client Hello stage to hide the real connection website and evade internet censorship.</p>
<p>This is currently effective for large websites such as Steam, Pixiv, and Github.</p>
<p><strong>How Domain Fronting Works</strong></p>
<p>Users use a legitimate domain name to request the CDN’s IP from DNS, then initiate a request to the CDN. When processing HTTPS requests, the CDN first decrypts it and forwards the request based on the HTTP Host value. Therefore, users wanting to access an illegal website can use a legitimate domain name on the CDN as the SNI, and then use it as the HTTP Host for HTTPS communication with the CDN. Since the HTTP Host can only be seen by the forwarder and not by the censor, the CDN will allow this request and re-encapsulate the HTTP request based on the HTTP Host, sending it to the actual requested server. In this case, the client is actually communicating with the illegal website, but from the perspective of traffic monitoring devices, the client is communicating with a legitimate website, effectively disguising the traffic as legitimate.</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.ixacg.com/2025/04/10/1744271919.avif" alt="Figure 2"></p>
<p>This method is more feasible when the blocked site and the harmless site are provided by the same large service provider, such as services from a content delivery network. At this point, censors typically find it difficult to distinguish between disguised traffic and legitimate traffic, forcing them to either allow all seemingly harmless traffic or completely block traffic for that domain. Completely blocking could cause significant collateral damage.</p>
<hr>
<blockquote>
<h2 id="Fake-Wall-Pseudo-Wall-Attack-Solutions"><a href="#Fake-Wall-Pseudo-Wall-Attack-Solutions" class="headerlink" title="Fake Wall (Pseudo-Wall) Attack Solutions"></a>Fake Wall (Pseudo-Wall) Attack Solutions</h2></blockquote>
<p><strong>1. What is a Fake Wall Attack?</strong></p>
<p>A fake wall attack refers to a way of attacking websites by exploiting GFW’s functions.</p>
<p>Hackers set up a server A in China and a server B abroad. They then modify the hosts file on server A to point the target website, such as <a target="_blank" rel="noopener" href="http://www.xxx.com/">www.xxx.com</a>, to server B. On server B, they create a website with illegal content and bind it to the domain <a target="_blank" rel="noopener" href="http://www.xxx.com/">www.xxx.com</a>.</p>
<p>This way, accessing <a target="_blank" rel="noopener" href="http://www.xxx.com/">www.xxx.com</a> through server A will “incorrectly” redirect to the illegal website set up by the hackers, rather than the correct server for <a target="_blank" rel="noopener" href="http://www.xxx.com/">www.xxx.com</a>.</p>
<p>Hackers then use packet-sending software on server A to send a large number of requests containing illegal keywords to the <a target="_blank" rel="noopener" href="http://www.xxx.com/">www.xxx.com</a> website. This results in illegal requests that can indeed access illegal content, leading GFW to temporarily block the <a target="_blank" rel="noopener" href="http://www.xxx.com/">www.xxx.com</a> website via TCP blocking. If hackers continue this packet-sending attack, the website will be repeatedly and temporarily banned, resulting in long-term inaccessibility.</p>
<p><strong>2. How to Determine if You Are Under a Fake Wall Attack?</strong></p>
<p>If your website is frequently or long-term inaccessible, and upon checking, you find that domain resolution is normal, the WEB service is normal, access from abroad is normal, the domain is not blocked or polluted, and the server’s ports 80 and 443 are inaccessible, then it is basically a fake wall attack.</p>
<p>Detection websites: <a target="_blank" rel="noopener" href="https://www.boce.com/">https://www.boce.com</a> and <a target="_blank" rel="noopener" href="https://support.dnspod.cn/">https://support.dnspod.cn</a></p>
<p>Use the former to check domestic access situations, whether the domain is blocked or hijacked, and if DNS is polluted. Use the latter to check if ports 80 and 443 services are normal.</p>
<p><strong>3. How to Solve a Fake Wall Attack?</strong></p>
<p>Through practice, this site has found the following three solutions for fake wall attacks:</p>
<p><strong>Scheme One: Register the Domain and Use a Domestic Server.</strong></p>
<p>Since fake wall attacks exploit GFW’s functions, the most effective method is to register the attacked domain and use a domestic server, as GFW is designed to target websites with servers abroad.</p>
<p>Advantages: Once and for all, absolutely effective.</p>
<p>Disadvantages: Registration takes a long time, especially for websites that may have some violation content, making registration difficult.</p>
<p><strong>Scheme Two: DNS Intelligent Resolution + Multi-IP Servers.</strong></p>
<p>This scheme requires a large number of IPs, at least 100, and a DNS that supports API, such as Alibaba Cloud Enterprise DNS. The solution can be further divided into two methods:</p>
<p>One is to use API for cyclic resolution, setting it to switch to a different resolved IP every minute.</p>
<p>The other is to use Alibaba Cloud’s global traffic management function, set up multiple resolved IP pools, and check each resolved IP every minute. If an IP is inaccessible, intelligently switch to another normal IP for resolution.</p>
<p>This effectively solves the fake wall problem because there are many IPs, exceeding the blocking speed.</p>
<p>Advantages: Fully controllable, with control in your own hands, suitable for hands-on site administrators.</p>
<p>Disadvantages: High cost, as DNS and a large number of IPs require payment. It also tests technical skills, as you need to develop code to call the API or set up global traffic management and intelligent resolution functions. Additionally, it is affected by DNS server cache times in various regions, so some users will inevitably be impacted.</p>
<p><strong>Scheme Three: Use a Fake Wall-Resistant CDN.</strong></p>
<p>Where there is demand, there is a market. Currently, there are some CDN service providers on the market that offer anti-fake wall functions.</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://blog.ixacg.com/en">SakurajimMai</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://blog.ixacg.com/en/posts/2024/12/09/dd233cf48b6d.html">https://blog.ixacg.com/en/posts/2024/12/09/dd233cf48b6d.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/en/tags/GFW/">GFW</a><a class="post-meta__tags" href="/en/tags/Firewall/">Firewall</a></div><div class="post-share"><div class="social-share" data-image="https://s2.ixacg.com/2025/04/10/1744271881.avif" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>Donate</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://image.denlu.top/2024/12/04/rxGRuZZN.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://image.denlu.top/2024/12/04/rxGRuZZN.png" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="https://image.denlu.top/2024/12/04/wZAdXAXU.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://image.denlu.top/2024/12/04/wZAdXAXU.png" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/en/posts/2024/12/09/bfb67f9f5ecf.html" title="Linux Configuring Samba Service Tutorial"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s4.ixacg.top/2023/06/14/Konachan.com%20-%20358135%20sample.webp" onerror="onerror=null;src='/en/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">Linux Configuring Samba Service Tutorial</div></div><div class="info-2"><div class="info-item-1">Installing Samba12apt updateapt install samba  Configuring SambaSamba’s configuration file is usually located at /etc/samba/smb.conf. You can use a text editor (such as nano or vim) to edit this file. Add shared files. Remember to back up the file before modifying 1cp /etc/samba/smb.conf /etc/samba/smb.conf.bak  12345678[shared]   comment = Shared Folder   path = /home/user/shared   valid users = user   read only = no   browsable = yes   create mask = 0777   directory mask = 0777   comment:...</div></div></div></a><a class="pagination-related" href="/en/posts/2024/12/09/df70a5b9e90c.html" title="One-Click DD System Network Reinstallation"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s4.ixacg.top/2023/06/15/358198%20.webp" onerror="onerror=null;src='/en/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">One-Click DD System Network Reinstallation</div></div><div class="info-2"><div class="info-item-1">AutoReinstall Script1234wget --no-check-certificate -O AutoReinstall.sh https://git.io/AutoReinstall.sh &amp;&amp; bash AutoReinstall.sh #Version available in Chinabash &lt;(wget --no-check-certificate -qO- https://cdn.jsdelivr.net/gh/hiCasper/Shell@master/AutoReinstall.sh)  Disk Expansion After ReinstallationUse partitioning tools: Use fdisk or parted tools to delete and recreate the /dev/vda1 partition to utilize the entire disk space. For disks using a DOS partition table, here is an...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/en/posts/2024/12/09/e1f4b699bbe3.html" title="Using Unfiled Domestic Servers - Methods to Bypass SNI (HTTPS)"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.ixacg.com/2025/04/10/1744271510.avif" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-12-09</div><div class="info-item-2">Using Unfiled Domestic Servers - Methods to Bypass SNI (HTTPS)</div></div><div class="info-2"><div class="info-item-1">Simply put, the domain's port 443 is blocked, and SSL cannot access the website content. More complexly, TLS is the security foundation for network communications (HTTPS). TLS provides authentication and encryption that allows users to confirm who they are communicating with and ensures that communication information is not seen or tampered with by intermediaries. Although TLS can hide the *content* of user communications, it does not always hide the *object* of user communications. For example, the TLS handshake can carry an extension called Encrypted Server Name Indication (SNI), which helps the client tell the server the domain name of the website it wants to access. Censors, including those in China, use this extension to check and block users from accessing specific websites.</div></div></div></a><a class="pagination-related" href="/en/posts/2024/12/09/0734eb280453.html" title="Bypassing Mobile Firewall on Domain Blocking"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.ixacg.com/2025/04/10/1744271379.avif" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2024-12-09</div><div class="info-item-2">Bypassing Mobile Firewall on Domain Blocking</div></div><div class="info-2"><div class="info-item-1">Some foreign servers in certain countries use fixed routes, for example, Hong Kong via Southern Telecom, Russia via Beijing Unicom; If users of China Mobile's broadband access these foreign websites, it will increase the settlement fees that China Mobile pays to Telecom and Unicom, so China Mobile will choose to directly block access, meaning the domain is walled and inaccessible.</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comments</span></div><div class="comment-switch"><span class="first-comment">Artalk</span><span id="switch-btn"></span><span class="second-comment">Waline</span></div></div><div class="comment-wrap"><div><div id="artalk-wrap"></div></div><div><div id="waline-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://image.denlu.top/2024/12/04/ajJ3XICB.webp" onerror="this.onerror=null;this.src='/en/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">SakurajimMai</div><div class="author-info-description">个人开发者</div><div class="site-data"><a href="/en/archives/"><div class="headline">Articles</div><div class="length-num">10</div></a><a href="/en/tags/"><div class="headline">Tags</div><div class="length-num">15</div></a><a href="/en/categories/"><div class="headline">Categories</div><div class="length-num">3</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/SakurajimMai"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/SakurajimMai" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:507877550@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a><a class="social-icon" href="/en/atom.xml" target="_blank" title="RSS"><i class="fas fa-rss" style="color: ;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">桜の花の落ちるスピード、秒速5センチメートル</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction-to-Some-Professional-Terms"><span class="toc-number">1.</span> <span class="toc-text">Introduction to Some Professional Terms</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Current-Mainstream-Blocking-Technologies"><span class="toc-number">2.</span> <span class="toc-text">Current Mainstream Blocking Technologies</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#A-Feasible-Solution"><span class="toc-number">3.</span> <span class="toc-text">A Feasible Solution</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Fake-Wall-Pseudo-Wall-Attack-Solutions"><span class="toc-number">4.</span> <span class="toc-text">Fake Wall (Pseudo-Wall) Attack Solutions</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/en/posts/2025/04/21/bceca0849b69.html" title="Hysteria2|Second Generation Hysteria Node Setup Tutorial"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.ixacg.com/2025/04/21/1745202982.avif" onerror="this.onerror=null;this.src='/en/img/404.jpg'" alt="Hysteria2|Second Generation Hysteria Node Setup Tutorial"/></a><div class="content"><a class="title" href="/en/posts/2025/04/21/bceca0849b69.html" title="Hysteria2|Second Generation Hysteria Node Setup Tutorial">Hysteria2|Second Generation Hysteria Node Setup Tutorial</a><time datetime="2025-04-21T03:01:49.000Z" title="Created 2025-04-21 11:01:49">2025-04-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/en/posts/2025/04/19/8a865267db07.html" title="Self-built ICP-free Anti-theft Tailscale Domestic Relay (DERP) Tutorial"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.ixacg.com/2025/04/10/1744273338.avif" onerror="this.onerror=null;this.src='/en/img/404.jpg'" alt="Self-built ICP-free Anti-theft Tailscale Domestic Relay (DERP) Tutorial"/></a><div class="content"><a class="title" href="/en/posts/2025/04/19/8a865267db07.html" title="Self-built ICP-free Anti-theft Tailscale Domestic Relay (DERP) Tutorial">Self-built ICP-free Anti-theft Tailscale Domestic Relay (DERP) Tutorial</a><time datetime="2025-04-19T03:07:54.000Z" title="Created 2025-04-19 11:07:54">2025-04-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/en/posts/2024/12/26/70b1e51ef374.html" title="A Complete Automated Anime Tracking Tutorial"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.ixacg.com/2025/04/10/1744271581.avif" onerror="this.onerror=null;this.src='/en/img/404.jpg'" alt="A Complete Automated Anime Tracking Tutorial"/></a><div class="content"><a class="title" href="/en/posts/2024/12/26/70b1e51ef374.html" title="A Complete Automated Anime Tracking Tutorial">A Complete Automated Anime Tracking Tutorial</a><time datetime="2024-12-25T16:00:00.000Z" title="Created 2024-12-26 00:00:00">2024-12-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/en/posts/2024/12/25/0678ee7f24a0.html" title="DNS Shunting to Unlock Streaming Media"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s2.ixacg.com/2025/04/10/1744271760.avif" onerror="this.onerror=null;this.src='/en/img/404.jpg'" alt="DNS Shunting to Unlock Streaming Media"/></a><div class="content"><a class="title" href="/en/posts/2024/12/25/0678ee7f24a0.html" title="DNS Shunting to Unlock Streaming Media">DNS Shunting to Unlock Streaming Media</a><time datetime="2024-12-24T16:00:00.000Z" title="Created 2024-12-25 00:00:00">2024-12-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/en/posts/2024/12/09/bfb67f9f5ecf.html" title="Linux Configuring Samba Service Tutorial"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://s4.ixacg.top/2023/06/14/Konachan.com%20-%20358135%20sample.webp" onerror="this.onerror=null;this.src='/en/img/404.jpg'" alt="Linux Configuring Samba Service Tutorial"/></a><div class="content"><a class="title" href="/en/posts/2024/12/09/bfb67f9f5ecf.html" title="Linux Configuring Samba Service Tutorial">Linux Configuring Samba Service Tutorial</a><time datetime="2024-12-08T16:00:00.000Z" title="Created 2024-12-09 00:00:00">2024-12-09</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2023 - 2025 By SakurajimMai</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="Scroll to Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/en/js/utils.js"></script><script src="/en/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>(async () => {
  const showKatex = () => {
    document.querySelectorAll('#article-container .katex').forEach(el => el.classList.add('katex-show'))
  }

  if (!window.katex_js_css) {
    window.katex_js_css = true
    await btf.getCSS('https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css')
    if (false) {
      await btf.getScript('https://cdn.jsdelivr.net/npm/katex/dist/contrib/copy-tex.min.js')
    }
  }

  showKatex()
})()</script><script>(() => {
  let artalkItem = null
  const option = null
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'

  const destroyArtalk = () => {
    if (artalkItem) {
      artalkItem.destroy()
      artalkItem = null
    }
  }

  const artalkChangeMode = theme => artalkItem && artalkItem.setDarkMode(theme === 'dark')

  const initArtalk = (el = document, pageKey = location.pathname) => {
    artalkItem = Artalk.init({
      el: el.querySelector('#artalk-wrap'),
      server: 'https://artalk.ixacg.com',
      site: 'Artalk',
      darkMode: document.documentElement.getAttribute('data-theme') === 'dark',
      ...option,
      pageKey: isShuoshuo ? pageKey : (option && option.pageKey) || pageKey
    })

    if (GLOBAL_CONFIG.lightbox === 'null') return
    artalkItem.on('list-loaded', () => {
      artalkItem.ctx.get('list').getCommentNodes().forEach(comment => {
        const $content = comment.getRender().$content
        btf.loadLightbox($content.querySelectorAll('img:not([atk-emoticon])'))
      })
    })

    if (isShuoshuo) {
      window.shuoshuoComment.destroyArtalk = () => {
        destroyArtalk()
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }

    btf.addGlobalFn('pjaxSendOnce', destroyArtalk, 'destroyArtalk')
    btf.addGlobalFn('themeChange', artalkChangeMode, 'artalk')
  }

  const loadArtalk = async (el, pageKey) => {
    if (typeof Artalk === 'object') initArtalk(el, pageKey)
    else {
      await btf.getCSS('https://cdn.jsdelivr.net/npm/artalk/dist/Artalk.min.css')
      await btf.getScript('https://cdn.jsdelivr.net/npm/artalk/dist/Artalk.min.js')
      initArtalk(el, pageKey)
    }
  }

  if (isShuoshuo) {
    'Artalk' === 'Artalk'
      ? window.shuoshuoComment = { loadComment: loadArtalk }
      : window.loadOtherComment = loadArtalk
    return
  }

  if ('Artalk' === 'Artalk' || !false) {
    if (false) btf.loadComment(document.getElementById('artalk-wrap'), loadArtalk)
    else setTimeout(loadArtalk, 100)
  } else {
    window.loadOtherComment = loadArtalk
  }
})()</script><script>(() => {
  let initFn = window.walineFn || null
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const destroyWaline = ele => ele.destroy()

  const initWaline = (Fn, el = document, path = window.location.pathname) => {
    const waline = Fn({
      el: el.querySelector('#waline-wrap'),
      serverURL: 'https://pl.ixacg.com# Waline server address url',
      pageview: false,
      dark: 'html[data-theme="dark"]',
      comment: false,
      ...option,
      path: isShuoshuo ? path : (option && option.path) || path
    })

    if (isShuoshuo) {
      window.shuoshuoComment.destroyWaline = () => {
        destroyWaline(waline)
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }
  }

  const loadWaline = (el, path) => {
    if (initFn) initWaline(initFn, el, path)
    else {
      btf.getCSS('https://cdn.jsdelivr.net/npm/@waline/client/dist/waline.min.css')
        .then(() => import('https://cdn.jsdelivr.net/npm/@waline/client/dist/waline.min.js'))
        .then(({ init }) => {
          initFn = init || Waline.init
          initWaline(initFn, el, path)
          window.walineFn = initFn
        })
    }
  }

  if (isShuoshuo) {
    'Artalk' === 'Waline'
      ? window.shuoshuoComment = { loadComment: loadWaline } 
      : window.loadOtherComment = loadWaline
    return
  }

  if ('Artalk' === 'Waline' || !false) {
    if (false) btf.loadComment(document.getElementById('waline-wrap'),loadWaline)
    else setTimeout(loadWaline, 0)
  } else {
    window.loadOtherComment = loadWaline
  }
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/en/js/search/local-search.js"></script></div></div><!-- hexo injector body_end start --><script src="/assets/mmedia/mmedia-loader.js"></script><!-- hexo injector body_end end --></body></html>